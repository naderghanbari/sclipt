#!/usr/bin/env scala

// Scala script which counts the number of lines in a file.

import scala.language.postfixOps
import io.Source.fromFile
import java.io.File

val files = args map (new File(_)) filter (_.exists) filter (_.isFile)
val lines = files map fromFile map (_ getLines) map (_ size)
files zip lines map { case (file, size) => s"$file: $size"} foreach println
val total = lines reduceLeft (_ + _)
println(s"Total: $total")
